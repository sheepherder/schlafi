<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="theme-color" content="#080810">
<title>Schlummershuffle â€“ Cognitive Shuffle zum Einschlafen</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Fraunces:opsz,wght@9..144,300;9..144,400&family=Outfit:wght@300;400;500&display=swap" rel="stylesheet">
<link rel="stylesheet" href="style.css">
</head>
<body>

<div class="container" id="app">
  <h1>Schlummershuffle</h1>

  <!-- Running: word display -->
  <div class="word-display">
    <div class="current-word" id="currentWord" aria-live="polite" aria-atomic="true"></div>
    <div class="category-label" id="categoryLabel" aria-hidden="true"></div>
    <div class="interval-bar-container">
      <div class="interval-bar" id="intervalBar"></div>
    </div>
  </div>

  <div class="timer-ring-container">
    <svg viewBox="0 0 140 140">
      <circle class="timer-ring-bg" cx="70" cy="70" r="64"/>
      <circle class="timer-ring-progress" id="timerRing" cx="70" cy="70" r="64"
        stroke-dasharray="402.12" stroke-dashoffset="0"/>
    </svg>
    <div class="timer-text" id="timerText">30:00</div>
  </div>

  <!-- Start / Stop -->
  <button class="btn-start" id="btnStart"><svg width="20" height="20" viewBox="0 0 56 56"><defs><mask id="msk"><rect width="56" height="56" fill="white"/><circle cx="37" cy="22" r="21" fill="black"/></mask></defs><circle cx="28" cy="28" r="23" fill="currentColor" mask="url(#msk)"/></svg>Einschlafen</button>

  <!-- Settings (visible when idle) -->
  <div class="settings">
    <div class="setting-group">
      <label id="timerLabel">Timer</label>
      <div class="chips" id="timerChips" role="group" aria-labelledby="timerLabel">
        <button class="chip" data-value="15" aria-pressed="false">15 min</button>
        <button class="chip active" data-value="30" aria-pressed="true">30 min</button>
        <button class="chip" data-value="45" aria-pressed="false">45 min</button>
        <button class="chip" data-value="60" aria-pressed="false">60 min</button>
      </div>
    </div>

    <div class="setting-group">
      <label id="intervalLabel">Pause zwischen W&ouml;rtern</label>
      <div class="chips" id="intervalChips" role="group" aria-labelledby="intervalLabel">
        <button class="chip" data-value="5" aria-pressed="false">5 s</button>
        <button class="chip active" data-value="8" aria-pressed="true">8 s</button>
        <button class="chip" data-value="10" aria-pressed="false">10 s</button>
        <button class="chip" data-value="15" aria-pressed="false">15 s</button>
        <button class="chip" data-value="20" aria-pressed="false">20 s</button>
      </div>
    </div>

    <div class="setting-group">
      <label for="voiceSelect">Stimme</label>
      <div class="voice-row">
        <select id="voiceSelect"><option value="">Wird geladen&hellip;</option></select>
        <button class="chip" id="btnTest">Test</button>
      </div>
      <div class="no-voices-hint" id="noVoicesHint" style="display:none">
        Keine deutschen Stimmen gefunden. Pr&uuml;fe die TTS-Einstellungen deines Ger&auml;ts.
      </div>
    </div>

    <div class="setting-group">
      <label for="volumeSlider">Lautst&auml;rke</label>
      <div class="slider-row">
        <input type="range" id="volumeSlider" min="0" max="100" value="70">
        <span class="slider-val" id="volumeLabel" aria-hidden="true">70%</span>
      </div>
    </div>

    <div class="setting-group">
      <label for="rateSlider">Geschwindigkeit</label>
      <div class="slider-row">
        <input type="range" id="rateSlider" min="50" max="150" value="80">
        <span class="slider-val" id="rateLabel" aria-hidden="true">80%</span>
      </div>
    </div>

    <div class="setting-group">
      <label for="pitchSlider">Tonh&ouml;he</label>
      <div class="slider-row">
        <input type="range" id="pitchSlider" min="50" max="150" value="90">
        <span class="slider-val" id="pitchLabel" aria-hidden="true">90%</span>
      </div>
    </div>
  </div>

  <details class="info">
    <summary>Was ist der Cognitive Shuffle?</summary>
    <p>
      Der Cognitive Shuffle ist eine Einschlaftechnik von Dr.&nbsp;Luc&nbsp;P.&nbsp;Beaudoin.
      Du stellst dir in rascher Abfolge zuf&auml;llige, zusammenhanglose Bilder vor
      &ndash; alle paar Sekunden ein neues. Das ahmt das nat&uuml;rliche Denkmuster
      vor dem Einschlafen nach und unterbricht Gr&uuml;belschleifen.
    </p>
    <p>
      Schlummershuffle spricht dir alle paar Sekunden ein deutsches Wort vor. Stell dir
      einfach das Gesprochene bildlich vor &ndash; ohne Zusammenh&auml;nge herzustellen.
      Die meisten schlafen innerhalb von 10&ndash;15&nbsp;Minuten ein.
    </p>
  </details>
</div>

<script src="words.js"></script>
<script src="app.js"></script>
</body>
</html>
